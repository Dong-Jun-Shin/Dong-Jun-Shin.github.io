---
layout: post
title: '리눅스 이론 정리 (6차시)'
image: /DevLang_Linux+Fedora19+/logo.png
date: 2020-04-22 14:26:51 +0200
categories: DevLang_Linux(Fedora19)
---


\- 20/04/28 블로그 이전으로 인한 이전 자료 재업로드입니다. -





#### <터미널>

    > systemctl <start/stop/restart/status> [서비스명] : 서비스의 상태 확인   
    > date [시간] : 시간 설정   
        ( 시간 : 월,일,시,분,년)   
    > rdate -s [서버] : 서버와 시간 동기화 (time.bora.net)   
    > Ctrl + C : 현재 프로세스 종료   
    > Ctrl + Z : 현재 프로세스 일시정지   
    > jobs : 현재 작업중인 프로세스 표시   
    > bg : 현재 백그라운드의 프로세스 표시   
    > 명령어 [&] : 현재 명령을 백그라운드로 실행   
- 파일 압축   
    > xz [속성] [파일명] : 확장명 xz로 압축하거나 풀어준다.   
  
    > bzip2 [속성] [파일명] : 확장명 bz2로 압축하거나 풀어준다.   
       bunzip2 : 'bzip2 -d'와 동일한 명령어   
    > gzip [속성] [파일명] : 확장명 gz로 압축하거나 풀어준다.   
       gunzip : 'gzip -d'와 동일한 명령어   
  
        ( 속성 -d : 압축해제)   
  
- 파일 묶기   
    > tar [동작][옵션] [파일명] [경로] : 확장명 tar로 묶음 파일 생성(경로까지) 묶음을 풀어 준다.(파일명만)   
        ( 동작 : c(묶기), x(풀기), t(경로확인) )   
        ( 옵션 : f(파일), v(과정보이기), J(tar + xz), z(tar + gzip), j(tar + bzip2) )   
  
- 파일 위치 검색   
    > find [경로] [옵션] [조건] [action] : 기본 파일 찾기   
        ( 옵션 : -name, -user(소유자), -newer(전, 후), -perm(허가권), -size(크기)   
        ( action : -print(디폴트), -exec(외부 명령 실행)   
        ( ex) find /home -name "*.swp" -exec rm { } \;  ->  앞의 검색 결과를 { }에 대입해서 rm 명령어를 실행)   
    > which [파일명] : PATH에 설정된 디렉터리만 검색   
    > whereis [파일명] : 실행 파일, 소스, man페이지 파일까지 검색   
    > locate [파일이름] : 파일 목록 데이터베이스에서 검색   
  
- 시스템 설정   
    > system-config-[기능이름] : 설정   
        ( 기능이름 :    
            날짜 : date   
            네트워크 : network (텍스트 기반 작동)(자동 고정 IP주소 설정 / IP주소, 서브넷 마스크, 게이트웨이 / DNS 정보 / 드라이버, 장치)   
                > 그래픽 모드 사용은 'gnome-control-center network'   
                > 아래 있는 네트워크 관련 파일 4개를 변경하는 효과 (network, ifcfg-ens32, resolv.conf, hosts)   
            방화벽 : firewall   
            서비스 : services   
            그 외 [keyboard, printer, services, users, bind(네임 서버), display(X 윈도우), httpd(서버), samba(서버)]   
        )   
  
- CRON   
    > 주기적 작업을 예약   
    > 관련된 데몬(서비스)은 "crond", 관련 파일은 "/etc/crontab"   
    ( ex) 03 4**0 root run-parts /etc/cron.weekly (일요일(0) 4시 03분에 해당 위치의 파일 실행) )   
  
- AT   
    > 일회성 작업을 예약   
    > at [시간] : 예약   
    > at> 프롬프트에 예약 명령어 입력 후 [Enter]   
    > 완료되면 Ctrl + D   
    > at -l : 예약 확인   
    > atrm <작업번호> : 예약 취소   
  
- 네트워크   
    > ifup : 네트워크 장치를 ON/OFF하는 명령어 ( systemctl restart network 보다 강력)   
    > ifconfig : IP주소 설정 확인   
    > nslookup : DNS 서버 작동 테스트   
    > ping <IP주소 또는 URL> : 해당 컴퓨터가 네트워크 상에서 응답하는지를 테스트   
    > system-config-selinux : SELinux의 레벨 설정   
  
- 프로세스   
    > ps : 현재 프로세스의 상태를 확인하는 명령어 ( [사용자 이름] [프로세스 번호] [부모 프로세스 번호] ... )   
    > kill : 프로세스를 강제로 종료하는 명령어   
    > pstree : 부모 프로세스와 자식 프로세스의 관계를 트리 형태로 보여줌 (작업 관리자 - 프로세스와 유사) 

* * *

#### <백업>

\- backup.sh  
    > set $(date) : 날짜를 파라미터로 저장   
    > fname="backup- $2$3.tar.xz" : 파일 이름은 backup-의 지정된 2번째(월), 3번째(일) 파라미터를 받고 .tar.xz   
    > tar cfJ /backup/$fname /home : 실행할 명령어, tar명령어로 c(묶기), f(파일), J(tar + xz)의 옵션으로 /home을 /backup/$fname에 저장   
  
- chmod 755 backup.sh : backup.sh 파일에 실행속성을 부여해서 실행 파일로 변경

* * *

#### <네트워크>

\- TCP/IP : 프로토콜  
  
- 호스트(개인), 도메인(특정 단체, 여러 범주)   
  
- IP 주소 : 4바이트의 12자리(3.3.3.3)   
  
- 네트워크 주소 : 같은 네트워크에 속해 있는 공통 주소   
  
- 브로드캐스트 : 내부 네트워크의 모든 컴퓨터가 듣는 주소, 현재 주소의 제일 끝 3자리를 255로 바꾼 주소(C클래스)   
  
- 게이트웨이(라우터) : 네트워크 간에 데이터를 전송하는 장비 (외부와 내부를 이어줌)   
  
- 넷마스크, 클래스 : 네트워크의 규모를 결정 (255.255.255.0 - C클래스)   
  
- DNS 네임서버 주소 : URL을 IP주소로 변환해 주는 서버   
    > 설정 파일은 /etc/resolv.conf   
  
- DHCP 서버 : IP를 자동 할당해주는 서버, 현재 주소의 제일 끝 3자리가 254인 주소   
  
- VMware 버전에 따라 다를 수 있지만, Fedora19는 보통 ens32 or ens33

* * *

#### <네트워크 보안 (SELinux)>

\- 리눅스의 보안을 위해 탄생  
- 강제(Enforcing), 허용(Permissive), 비활성(Disabled) 레벨이 존재   
- 작동 방식   
    > 강제 : 시스템 보안에 영향을 미치는 기능이 감지되면 기능 작동을 막는다.   
    > 허용 : 시스템 보안에 영향을 미치는 기능이 감지되면 로그를 남기고 허용   
    > 비활성 : SELinux를 사용하지 않음   
  
<파이프, 필터, 리디렉션>

  
- 파이프   
    > 두 개의 프로그램을 연결해주는 통로   
    >  "|"문자를 사용   
        ( ex) # ls -l /etc | more) (여러 페이지의 리스트를 넘겨서 볼 수 있게 이어줌)   
- 필터   
    > 필요한 것만 걸러주는 명령어   
    > grep, tail, wc, sort, awk, sed 등   
    > 주로 파이프와 같이 사용   
        ( ex) # ps -ef | grep bash)   
- 리디렉션   
    > 표준 입출력의 방향을 바꿔 줌   
        ( ex) ls -l > list.txt) (현재 명령의 결과를 .txt로 저장)   
        ( soft <list.txt> out.txt ) 

* * *

#### <프로세스, 데몬>

\- 하드디스크에 저장된 프로그램을 메모리에 로딩해서 활성화 된 것  
- 포그라운드 프로세스   
    > 화면에 나타나서 사용자와 상호작용   
    > 대부분의 응용프로그램   
- 백그라운드 프로세스   
    > 실행되었지만, 화면에 나타나지 않는 프로세스   
    > 백신 프로그램, 서버 데몬 등   
- 프로세스 번호   
    > 각각의 프로세스에 할당된 고유번호   
- 작업 번호   
    > 현재 실행되고 있는 백그라운드 프로세스의 순차 번호   
  
- 부모 프로세스와 자식 프로세스   
    > 모든 프로세스는 부모 프로세스를 가짐   
    > 부모 프로세스를 kill하면, 하위 모든 프로세스도 종료 

* * *

#### <서비스와 소켓>

\- 서비스  
    > 시스템과 독자적으로 구동되어 제공하는 프로세스 (웹 서버(httpd), DB 서버(mysqld), FTP 서버(vsftpd) 등)   
    > 항상 가동   
- 소켓   
    > 외부에서 특정 서비스를 요청할 경우 systemd가 구동. 요청이 끝나면 소켓 종료   
    > 서비스를 요청할 때, 처음 연결되는 시간이 앞에서 설명한 서비스에 비교해서 약간 더 걸릴 수 있다.   
        (systemd가 서비스를 새로 구동하는 시간떄문)   
    > 소켓과 관련된 스크립트 파일은 /usr/lib/systemd/system/ 디렉토리에 '소켓이름.socket'으로 존재   
    > 예전 페도라는 xinetd 데몬이 소켓의 기능을 담당했었다. 

* * *

#### <폴더>

/etc/crontab : cron 작업 설정 파일  
/etc/cron. [monthly, weekly, ...] : 작업 파일을 두는 폴더  
  
/etc/sysconfig/network : 네트워크 기본 정보가 설정된 파일  
/etc/sysconfig/network-scripts/ifcfg-ens32 : (*중요) ens32 장치에 설정된 네트워크 정보가 모두
들어있는 파일  
    > BOOTPROTO : 자동IP 여부 (none은 고정)   
    > ONBOOT : 부팅 시 실행   
/etc/resolv.conf : DNS 서버와 호스트 이름을 가진 파일  
/etc/hosts : 현 컴퓨터의 호스트 이름, FQDN을 가진 파일  
  
/etc/sysconfig/selinux : SELinux의 레벨 설정  
  
/usr/lib/systemd/system/ : 서비스의 실행 스크립트 파일이 있는 디렉토리, '서비스이름.service'라는 이름으로 파일
존재 (httpd.service)  
/usr/lib/systemd/system/ : 소켓과 관련된 스크립트 파일이 있는 디렉토리, '소켓이름.socket'으로 파일 존재












